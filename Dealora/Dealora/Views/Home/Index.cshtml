@model Dealora.Models.ViewModel.HomeViewModel

@{
    ViewBag.Title = "Home Page";
}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-loadmore/1.0.0/jquery.loadmore.min.js"></script>

<main>
    <div class="container">
        <!-- New Carousel Section -->
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active" data-bs-interval="10000">
                    <img src="https://mdbcdn.b-cdn.net/img/new/slides/041.webp" class="d-block w-100" alt="Wild Landscape">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>First slide label</h5>
                        <p>Some representative placeholder content for the first slide.</p>
                    </div>
                </div>

                <div class="carousel-item" data-bs-interval="2000">
                    <img src="https://mdbcdn.b-cdn.net/img/new/slides/042.webp" class="d-block w-100" alt="Camera">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Second slide label</h5>
                        <p>Some representative placeholder content for the second slide.</p>
                    </div>
                </div>

                <div class="carousel-item">
                    <img src="https://mdbcdn.b-cdn.net/img/new/slides/043.webp" class="d-block w-100" alt="Exotic Fruits">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Third slide label</h5>
                        <p>Some representative placeholder content for the third slide.</p>
                    </div>
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>

            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <div class="categories-section my-4">
            <h2>Categories</h2>
            <div class="row">
                @foreach (var category in Model.Categories)
                {
                    <div class="col-md-3">
                        <a href="/category/@category.Id" class="text-decoration-none">
                            <!-- The entire card is now a clickable link -->
                            <div class="card text-center rounded-circle p-3 category-card">
                                <img class="card-img-top rounded-circle mx-auto"
                                     src="@(!string.IsNullOrEmpty(category.CategoryImageUrl) ? category.CategoryImageUrl : "https://via.placeholder.com/150")"
                                     alt="@category.Name">
                            </div>
                        </a>
                    </div>
                }
            </div>
        </div>




        <!-- Products Section -->
        <div class="products-section">
            <h2>Products</h2>
            <div class="row">
                @foreach (var product in Model.Products)
                {
                    <div class="col-md-3 d-flex align-items-stretch">
                        <!-- Ensures all cards stretch to the same height -->
                        <div class="card h-100">
                            <!-- h-100 makes the card take full height -->
                            <img class="card-img-top" src="@(!string.IsNullOrEmpty(product.ImageUrl) ? product.ImageUrl : "https://via.placeholder.com/200")" alt="@product.Name">
                            <div class="card-body d-flex flex-column">
                                <!-- Flex column for vertical alignment -->
                                <h5 class="card-title">@product.Name</h5>
                                <p class="card-text">$@product.Price.ToString("F2")</p>
                                <a href="#" class="btn btn-primary mt-auto">Add To Cart</a> <!-- mt-auto pushes the button to the bottom -->
                            </div>
                        </div>
                    </div>
                }
            </div>

        </div>
</main>
